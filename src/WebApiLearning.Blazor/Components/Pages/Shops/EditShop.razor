@page "/shops/create"
@page "/shops/edit/{shopId:guid}"
@rendermode InteractiveServer
@attribute [StreamRendering]
@inject NavigationManager Navigation
@inject ShopService ShopService

<PageTitle>Edit Shop</PageTitle>

<h1>@_title</h1>

@if (ShopDetails is null)
{
    <button class="btn btn-primary" type="button" disabled>
        <span class="spinner-border spinner-border-sm" aria-hidden="true"></span>
        <span role="status">Loading...</span>
    </button>
}
else
{
    <EditForm Model="@ShopDetails" FormName="editShop" OnValidSubmit="HandleSubmitAsync">
        <DataAnnotationsValidator />
        <div class="mb-3">
            <label for="shopName" class="form-label">Name:</label>
            <InputText class="form-control" id="shopName" @bind-Value="ShopDetails.Name" />
            <ValidationMessage For="() => ShopDetails.Name" />
        </div>
        <div class="mb-3">
            <label for="shopLocation" class="form-label">Location:</label>
            <InputText class="form-control" id="shopLocation" @bind-Value="ShopDetails.Location" />
            <ValidationMessage For="() => ShopDetails.Location" />
        </div>

        <button type="submit" class="btn btn-primary">Submit</button>
        <a role="button" class="btn btn-secondary" href="/shops">Cancel</a>
    </EditForm>
}